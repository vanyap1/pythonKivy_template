<PopupMenu>:
    orientation: 'vertical'
    size_hint: None, None
    size: 450, 400
    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    padding: 10
    spacing: 5

    BoxLayout:
        size_hint_y: None
        height: 40
        Label:
            text: 'Parameters'
            font_size: 14
            halign: 'center'
            valign: 'middle'
            text_size: self.size

    BoxLayout:
        size_hint_y: None
        height: 2
        canvas.before:
            Color:
                rgba: 0, 0, 0, 1
            Rectangle:
                pos: self.pos
                size: self.size

    ScrollView:
        size_hint_y: 1
        bar_width: 8
        GridLayout:
            cols: 1
            size_hint_y: None
            height: self.minimum_height
            spacing: 4
            padding: [20, 4, 0, 0]
            

            BoxLayout:
                size_hint_y: None
                height: 32
                spacing: 8
                Label:
                    text: 'Parameter 1'
                    size_hint_x: 0.8
                    halign: 'left'
                    valign: 'middle'
                    text_size: self.size
                CheckBox:
                    size_hint_x: 0.2
            BoxLayout:
                size_hint_y: None
                height: 32
                spacing: 8
                Label:
                    text: 'Parameter 2'
                    size_hint_x: 0.8
                    halign: 'left'
                    valign: 'middle'
                    text_size: self.size
                CheckBox:
                    size_hint_x: 0.2
            BoxLayout:
                size_hint_y: None
                height: 32
                spacing: 8
                Label:
                    text: 'Parameter 3'
                    size_hint_x: 0.8
                    halign: 'left'
                    valign: 'middle'
                    text_size: self.size
                CheckBox:
                    size_hint_x: 0.2
            BoxLayout:
                size_hint_y: None
                height: 32
                spacing: 8
                Label:
                    text: 'Parameter 4'
                    size_hint_x: 0.8
                    halign: 'left'
                    valign: 'middle'
                    text_size: self.size
                CheckBox:
                    size_hint_x: 0.2
            BoxLayout:
                size_hint_y: None
                height: 32
                spacing: 8
                Label:
                    text: 'Parameter 5'
                    size_hint_x: 0.8
                    halign: 'left'
                    valign: 'middle'
                    text_size: self.size
                CheckBox:
                    size_hint_x: 0.2
            BoxLayout:
                size_hint_y: None
                height: 32
                spacing: 8
                Label:
                    text: 'Parameter 6'
                    size_hint_x: 0.8
                    halign: 'left'
                    valign: 'middle'
                    text_size: self.size
                CheckBox:
                    size_hint_x: 0.2
            BoxLayout:
                size_hint_y: None
                height: 32
                spacing: 8
                Label:
                    text: 'Parameter 7'
                    size_hint_x: 0.8
                    halign: 'left'
                    valign: 'middle'
                    text_size: self.size
                CheckBox:
                    size_hint_x: 0.2
            BoxLayout:
                size_hint_y: None
                height: 32
                spacing: 8
                Label:
                    text: 'Parameter 8'
                    size_hint_x: 0.8
                    halign: 'left'
                    valign: 'middle'
                    text_size: self.size
                CheckBox:
                    size_hint_x: 0.2
            BoxLayout:
                size_hint_y: None
                height: 32
                spacing: 8
                Label:
                    text: 'Parameter 9'
                    size_hint_x: 0.8
                    halign: 'left'
                    valign: 'middle'
                    text_size: self.size
                CheckBox:
                    size_hint_x: 0.2
            BoxLayout:
                size_hint_y: None
                height: 32
                spacing: 8
                Label:
                    text: 'Parameter 10'
                    size_hint_x: 0.8
                    halign: 'left'
                    valign: 'middle'
                    text_size: self.size
                CheckBox:
                    size_hint_x: 0.2

    BoxLayout:
        size_hint_y: None
        height: 40
        spacing: 10
        padding: [10, 10, 0, 0]
        Button:
            text: 'Save'
            size_hint_x: 0.5
            on_release: root.save_parameters()
        Button:
            text: 'Exit'
            size_hint_x: 0.5
            on_release: root.dismiss()